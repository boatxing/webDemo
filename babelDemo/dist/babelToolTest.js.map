{"version":3,"sources":["../src/babelToolTest.js"],"names":["code","console","info","a","output","sourceMaps","visitor","arrowFunctionExpression","path","params","node","blockStatement","body","func","types","functionExpression","replaceWith","result","plugins"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,IAAIA,IAAI,GACH;;MADL;AAIAC,OAAO,CAACC,IAAR,CAAa,YAAb,EAA2BF,IAA3B,E,CAEA;;AACA,MAAMG,CAAC,GAAG,mBAAMH,IAAN,CAAV;AACAC,OAAO,CAACC,IAAR,CAAa,kBAAb,EAAiCC,CAAjC,E,CAEA;;AACA,MAAMC,MAAM,GAAG,wBAASD,CAAT,EAAY;AAAEE,EAAAA,UAAU,EAAE;AAAd,CAAZ,EAAkCL,IAAlC,CAAf;AACAC,OAAO,CAACC,IAAR,CAAa,qBAAb,EAAoCE,MAApC,E,CAEA;;AACA,IAAIE,OAAO,GAAG;AACVC,EAAAA,uBAAuB,CAACC,IAAD,EAAO;AAAC;AAC3B,QAAIC,MAAM,GAAGD,IAAI,CAACE,IAAL,CAAUD,MAAvB;AACA,QAAIE,cAAc,GAAGH,IAAI,CAACE,IAAL,CAAUE,IAA/B,CAF0B,CAG1B;;AACA,QAAIC,IAAI,GAAGC,eAAMC,kBAAN,CAAyB,IAAzB,EAA+BN,MAA/B,EAAuCE,cAAvC,EAAuD,KAAvD,EAA8D,KAA9D,CAAX,CAJ0B,CAK1B;;;AACAH,IAAAA,IAAI,CAACQ,WAAL,CAAiBH,IAAjB,EAN0B,CAMH;AAC1B;;AARS,CAAd;AAWA,IAAII,MAAM,GAAG,qBAAUjB,IAAV,EAAgB;AACzBkB,EAAAA,OAAO,EAAE,CACLZ,OADK;AADgB,CAAhB,CAAb;AAMAL,OAAO,CAACC,IAAR,CAAa,sBAAb,EAAqCe,MAAM,CAACjB,IAA5C","sourcesContent":["import { transform } from \"@babel/core\";\nimport { parse } from \"@babel/parser\";\nimport generate from '@babel/generator';\nimport types from '@babel/types';\n\nlet code =\n    `codes.map(code=>{\n\t   return code.toUpperCase()\n   })`\nconsole.info(\"=====code:\", code);\n\n// 转换代码为ast树\nconst a = parse(code)\nconsole.info(\"=====parse test:\", a);\n\n// 转换ast语法书为代码字符串\nconst output = generate(a, { sourceMaps: true }, code);\nconsole.info(\"=====generate test:\", output)\n\n//visitor可以对特定节点进行处理\nlet visitor = {\n    arrowFunctionExpression(path) {//定义需要转换的节点,这里拦截箭头函数\n        let params = path.node.params\n        let blockStatement = path.node.body\n        //使用babel-types的functionExpression方法生成新节点\n        let func = types.functionExpression(null, params, blockStatement, false, false)\n        //替换节点\n        path.replaceWith(func) //\n    }\n}\n\nlet result = transform(code, {\n    plugins: [\n        visitor\n    ]\n});\n\nconsole.info('=====transform test:', result.code);\n"],"file":"babelToolTest.js"}